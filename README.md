# Project_2025_fall_smart_todo_list

Учебный проект для Яндекс Лицея — умный список дел с графическим интерфейсом на PyQt6 и работой с базой данных.

---

## Описание

Приложение позволяет пользователям регистрироваться, входить в систему, и управлять списком задач. Для этого реализованы окна приветствия, логина, регистрации и основной список задач, реализованы через PyQt6 с использованием QStackedWidget.

Приложение работает с базой данных через модуль `database.py`.

---

## Структура проекта

        Project_2025_fall_smart_todo_list/
        ├── data/                       # Папка с базой данных SQLite
        │   └── smart_todo_db.sqlite
        ├── doc/                        # Описание проекта и ТЗ
        ├── src/
        │   ├── smart_todo_list/
        │   │   ├── database/           # Папка со схемой базы данных
        │   │   │   └── schema.sql      # Структура таблиц базы данных
        │   │   ├── ui/                 # Файлы интерфейса PyQt6 (.ui)
        │   │   ├── styles/             # Стили приложения (.qss)
        │   │   ├── images/             # Изображения и иконки
        │   │   ├── database.py         # Модуль работы с базой данных 
        │   │   ├── main.py             # Главный скрипт запуска приложения
        │   └── tests/                  # Тестовые скрипты
        │       ├── bd_test.py
        │       └── add_test_user_and_task.py


- `main.py` — главный скрипт запуска приложения, инициализирует окна и базу данных.
- `database.py` — модуль для работы с базой данных (регистрация, проверка пользователей, работа с задачами).
- `data/smart_todo_db.sqlite` — база данных.
- `database\schema.sql` — схема базы данных.
- `ui/` — файлы интерфейса `.ui`, созданные в Qt Designer.
- `styles/` — файлы стилей `.qss` для оформления приложения.
- `images/` — иконки и фон рабочего окна.

---

## Установка и запуск

1. Клонируйте репозиторий и перейдите в папку проекта.

2. Создайте и активируйте виртуальное окружение:

        python -m venv .venv

        В Windows PowerShell:
        .\.venv\scripts\activate.ps1

        В Windows cmd:
        .venv\scripts\activate.bat

        В macOS/Linux bash/zsh: 
        source .venv/bin/activate


3. Установите зависимости:

        pip install -r requirements.txt

4. Перед запуском перейдите в директорию с main.py

5. Запустите приложение:

        python main.py

---

## Работа с базой данных

Проект использует SQLite базу данных, структура которой описана в файле `src\smart_todo_list\database\schema.sql`. В ней определены таблицы `users` и `tasks` с необходимыми полями и связями.

При запуске приложения (`main.py`) если база данных отсутствует, она создаётся автоматически вместе с таблицами согласно описанной в `schema.sql` структуре.

Таким образом, не нужно создавать базу вручную — главное, чтобы у проекта была доступна папка `data` для хранения файла базы.

Если БД или папка отсутствуют, при запуске создаётся пустая база с нужной схемой для корректной работы приложения.

---

## Используемые библиотеки

- PyQt6 — графический интерфейс
- bcrypt — хеширование паролей
- Другие зависимости описаны в `requirements.txt`

---

## Особенности

- Многооконное приложение с использованием `QStackedWidget`.
- Вход и регистрация с проверкой пароля и email.
- Управление списком задач с возможностью редактирования и скрытия выполненных.
- Использование сигналов PyQt6 для взаимодействия между окнами и логикой.

---

## Тестирование базы данных

В папке `tests` располагаются тестовые скрипты для проверки работы с базой данных SQLite:

- `bd_test.py` — проверяет наличие базы, успешное подключение и выводит версии SQLite и список таблиц с количеством строк в них.
- `add_test_user_and_task.py` — добавляет тестового пользователя с логином "1" и паролем "1", а также две тестовые задачи для проверки функциональности добавления данных. Функция не является идемпотентной — при повторном запуске скрипта задачи будут добавлены снова.

---

### Как запускать тесты

Выполните команды:

        python bd_test.py
        python add_test_user_and_task.py

Обратите внимание, что тесты предполагают наличие папки `data` с файлом базы данных `smart_todo_db.sqlite`. Если её нет, тесты вызовут ошибку.

Тестовые скрипты помогают убедиться в корректной работе базы и добавлении данных в приложение.

---

## Контакты

По вопросам проекта пишите: darya.pinevich@gmail.com



